<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Inventory Demo</title>

<style>
html, body {
  margin: 0;
  height: 100%;
  background: #111;
  font-family: Arial, sans-serif;
  color: white;
}

/* Main layout */
#container {
  display: flex;
  height: 100%;
}

/* Left panel */
#inventory {
  width: 300px;
  padding: 20px;
  background: #1c1c1c;
  box-shadow: 2px 0 10px rgba(0,0,0,0.5);
  z-index: 2;
}

.item {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
  font-size: 18px;
  border-bottom: 1px solid #333;
}

/* Center map */
#center {
  flex: 1;
  position: relative;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

#map {
  max-width: 90%;
  max-height: 90%;
}

/* Spots */
.spot {
  position: absolute;
  width: 50px;
  height: 50px;
  background: red;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  cursor: pointer;
}
.spot.clicked {
  background: green;
  cursor: default;
}

/* RESET button */
#resetBtn {
  position: absolute;
  bottom: 20px;
  left: 20px;
  padding: 10px 20px;
  background: #ff5555;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  z-index: 20;
}
#resetBtn:hover {
  background: #ff7777;
}
</style>
</head>

<body>

<div id="container">

  <!-- LEFT INVENTORY -->
  <div id="inventory">
    <div class="item"><span>Banandium Gems</span><span id="gems">0 / 10</span></div>
    <div class="item"><span>Common Fossil</span><span>0 / 10</span></div>
    <div class="item"><span>Rare Fossil</span><span>0 / 10</span></div>
    <div class="item"><span>Very Rare Fossil</span><span>0 / 10</span></div>
  </div>

  <!-- CENTER MAP -->
  <div id="center">
    <img id="map" src="images/map.png">
    <button id="resetBtn">RESET</button>
  </div>

</div>

<script>
const center = document.getElementById("center");
const gemCounter = document.getElementById("gems");

/* Spread spots around middle more */
const spotsData = [
  {id: 0, x: 400, y: 300},
  {id: 1, x: 600, y: 300},
  {id: 2, x: 500, y: 250},
  {id: 3, x: 450, y: 400},
  {id: 4, x: 550, y: 380}
];

let gems = 0;

// Load clicked spots from localStorage
let clickedSpots = JSON.parse(localStorage.getItem("clickedSpots")) || [];

function updateCounter() {
  gemCounter.textContent = `${clickedSpots.length} / 10`;
}

function drawSpots() {
  spotsData.forEach(s => {
    const dot = document.createElement("div");
    dot.className = "spot";
    dot.style.left = s.x + "px";
    dot.style.top = s.y + "px";
    dot.dataset.id = s.id;

    // If this dot was clicked before, mark as clicked
    if (clickedSpots.includes(s.id)) {
      dot.classList.add("clicked");
    }

    dot.addEventListener("click", () => {
      if (dot.classList.contains("clicked")) return;
      dot.classList.add("clicked");
      clickedSpots.push(s.id);
      localStorage.setItem("clickedSpots", JSON.stringify(clickedSpots));
      updateCounter();
    });

    center.appendChild(dot);
  });
}

// RESET button functionality
document.getElementById("resetBtn").addEventListener("click", () => {
  clickedSpots = [];
  localStorage.removeItem("clickedSpots");
  // Remove all dots and redraw
  document.querySelectorAll(".spot").forEach(d => d.remove());
  drawSpots();
  updateCounter();
});

// Initial render
drawSpots();
updateCounter();

</script>

</body>
</html>
